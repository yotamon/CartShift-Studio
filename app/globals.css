@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #f0f4f8;
  --foreground: #1e293b;
  --glass-bg: rgba(255, 255, 255, 0.75);
  --glass-border: rgba(148, 163, 184, 0.25);
  --section-alt: #e8eef4;
  --card-bg: rgba(255, 255, 255, 0.85);
}

.dark:root {
  --background: #0f172a;
  --foreground: #f8fafc;
  --glass-bg: rgba(15, 23, 42, 0.45);
  --glass-border: rgba(255, 255, 255, 0.15);
  --section-alt: #1e293b;
  --card-bg: rgba(255, 255, 255, 0.05);
}

body {
  color: var(--foreground);
  background: var(--background);
  overflow-x: hidden;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Mobile-specific touch utilities */
  .touch-manipulation {
    touch-action: manipulation;
  }

  /* Prevent text selection on interactive elements */
  .select-none-touch {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }

  /* Safe area insets for notched devices */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Smooth scrolling with momentum on iOS */
  .scroll-smooth-ios {
    -webkit-overflow-scrolling: touch;
  }
}

@layer base {
  * {
    @apply border-surface-300/60 dark:border-surface-700/50;
  }
  body {
    @apply bg-[#f0f4f8] dark:bg-surface-900 text-surface-800 dark:text-surface-50 antialiased;
    background-image:
      radial-gradient(ellipse at 20% 0%, rgba(2, 132, 199, 0.06) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 100%, rgba(192, 38, 211, 0.04) 0%, transparent 50%);
  }
  .dark body {
    background-image: none;
  }

  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
    -webkit-tap-highlight-color: transparent;
  }

  [dir='rtl'] {
    font-family: 'Segoe UI', 'Tahoma', 'Arial', 'Helvetica Neue', sans-serif;
    font-feature-settings:
      'kern' 1,
      'liga' 1,
      'calt' 1;
    text-rendering: optimizeLegibility;
  }

  [dir='rtl'] .bg-gradient-to-r {
    background-image: linear-gradient(to left, var(--tw-gradient-stops));
  }

  [dir='rtl'] .bg-gradient-to-l {
    background-image: linear-gradient(to right, var(--tw-gradient-stops));
  }

  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary-600 dark:outline-accent-500;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display tracking-tight text-surface-900 dark:text-white;
  }
}

@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

@layer components {
  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-brand;
    background-size: 200% auto;
    animation: gradient 8s linear infinite;
  }

  .fashion-gradient {
    background: linear-gradient(135deg, #0284c7 0%, #c026d3 100%);
    background-size: 200% auto;
  }

  .glass-effect {
    @apply border shadow-lg;
    backdrop-filter: blur(24px) saturate(200%);
    -webkit-backdrop-filter: blur(24px) saturate(200%);
    background: rgba(255, 255, 255, 0.85);
    border-color: rgba(148, 163, 184, 0.3);
    box-shadow:
      0 8px 32px 0 rgba(30, 41, 59, 0.12),
      0 0 0 1px rgba(148, 163, 184, 0.15) inset;
  }

  .dark .glass-effect {
    background: rgba(15, 23, 42, 0.4);
    border-color: rgba(255, 255, 255, 0.1);
    box-shadow:
      0 8px 32px 0 rgba(0, 0, 0, 0.37),
      0 0 0 1px rgba(255, 255, 255, 0.05) inset;
  }

  .glass-card {
    @apply backdrop-blur-md border rounded-2xl transition-all duration-300;
    background: rgba(255, 255, 255, 0.9);
    border-color: rgba(148, 163, 184, 0.35);
    box-shadow:
      0 10px 40px -10px rgba(30, 41, 59, 0.15),
      0 4px 16px -4px rgba(30, 41, 59, 0.08),
      0 0 0 1px rgba(148, 163, 184, 0.12);
  }

  .glass-card:hover {
    background: rgba(255, 255, 255, 0.98);
    border-color: rgba(2, 132, 199, 0.25);
    box-shadow:
      0 20px 60px -10px rgba(30, 41, 59, 0.2),
      0 8px 24px -8px rgba(2, 132, 199, 0.1),
      0 0 0 1px rgba(2, 132, 199, 0.15);
  }

  .dark .glass-card {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.1);
    box-shadow:
      0 10px 40px -10px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  .dark .glass-card:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow:
      0 20px 60px -10px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.15),
      0 0 50px rgba(192, 38, 211, 0.1);
  }

  .neon-border {
    @apply border border-accent-500 shadow-glow;
  }

  .btn-primary {
    @apply relative overflow-hidden rounded-xl bg-primary-600 px-8 py-4 font-bold text-white shadow-lg transition-all hover:bg-primary-500 hover:shadow-glow-primary active:scale-95;
  }

  .btn-accent {
    @apply relative overflow-hidden rounded-xl bg-accent-600 px-8 py-4 font-bold text-white shadow-lg transition-all hover:bg-accent-500 hover:shadow-glow active:scale-95;
  }

  /* Professional shadow utilities */
  .shadow-premium {
    box-shadow:
      0 10px 40px -10px rgba(30, 41, 59, 0.2),
      0 4px 12px -2px rgba(30, 41, 59, 0.08),
      0 0 0 1px rgba(148, 163, 184, 0.15);
  }

  .dark .shadow-premium {
    box-shadow:
      0 10px 40px -10px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  .shadow-premium-hover {
    box-shadow:
      0 20px 60px -10px rgba(30, 41, 59, 0.25),
      0 8px 20px -4px rgba(2, 132, 199, 0.12),
      0 0 0 1px rgba(2, 132, 199, 0.2);
  }

  .dark .shadow-premium-hover {
    box-shadow:
      0 20px 60px -10px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.15);
  }

  /* Subtle texture overlay for depth */
  .texture-overlay::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
      radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.02) 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.02) 0%, transparent 50%);
    pointer-events: none;
    z-index: 1;
  }
}

@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.6s ease-in;
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.6s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes gradient {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes gradient-x {
    0%,
    100% {
      background-position: 0% 50%;
      background-size: 200% 200%;
    }
    50% {
      background-position: 100% 50%;
      background-size: 200% 200%;
    }
  }

  .animate-gradient-x {
    animation: gradient-x 3s ease infinite;
    background-size: 200% 200%;
  }

  .text-glow {
    text-shadow: 0 0 20px rgba(192, 38, 211, 0.5);
  }

  .text-glow-subtle {
    text-shadow: 0 2px 10px rgba(192, 38, 211, 0.3);
  }

  /* Smooth scroll behavior */
  .scroll-smooth {
    scroll-behavior: smooth;
  }
}

/* ========================================
   ENHANCED PROSE STYLING FOR BLOG ARTICLES
   Premium visual design for better readability
   ======================================== */
@layer components {
  .prose-article {
    @apply max-w-none;
  }

  /* ===== DROP CAP FOR FIRST PARAGRAPH ===== */
  .prose-article > p:first-of-type::first-letter {
    @apply float-start text-6xl md:text-7xl font-display font-bold text-primary-600 dark:text-primary-400 leading-none me-3 mt-1;
    font-size: 4rem;
    line-height: 0.8;
  }

  /* ===== HEADINGS WITH VISUAL HIERARCHY ===== */
  .prose-article h1 {
    @apply text-4xl md:text-5xl font-display font-bold text-surface-900 dark:text-white mt-12 mb-6 leading-tight tracking-tight;
  }

  .prose-article h2 {
    @apply text-2xl md:text-3xl font-display font-bold text-surface-900 dark:text-white mt-14 mb-6 leading-tight tracking-tight relative;
    padding-top: 2rem;
  }

  /* Decorative gradient line above h2 */
  .prose-article h2::before {
    content: '';
    @apply absolute top-0 start-0 h-1 w-16 rounded-full;
    background: linear-gradient(90deg, theme('colors.primary.500'), theme('colors.accent.500'));
  }

  [dir='rtl'] .prose-article h2::before {
    background: linear-gradient(-90deg, theme('colors.primary.500'), theme('colors.accent.500'));
  }

  .prose-article h3 {
    @apply text-xl md:text-2xl font-display font-semibold text-surface-900 dark:text-white mt-10 mb-5 leading-snug tracking-tight;
  }

  /* Lists that follow H3 headings get better spacing */
  .prose-article h3 + ul,
  .prose-article h3 + ol {
    @apply mt-4 mb-6;
  }

  .prose-article h4 {
    @apply text-lg md:text-xl font-display font-semibold text-surface-800 dark:text-surface-100 mt-8 mb-4 leading-snug;
  }

  /* H4 followed by a list creates a "feature card" effect */
  .prose-article h4 + ul,
  .prose-article h4 + ol {
    @apply bg-surface-50 dark:bg-surface-800/50 rounded-xl p-5 border border-surface-200 dark:border-surface-700;
  }

  .prose-article h4 + ul li,
  .prose-article h4 + ol li {
    @apply py-1;
  }

  /* ===== PARAGRAPHS AND BODY TEXT ===== */
  .prose-article p {
    @apply text-base md:text-lg text-surface-700 dark:text-surface-300 leading-relaxed mb-6;
  }

  .prose-article strong {
    @apply font-bold text-surface-900 dark:text-white;
    background: linear-gradient(transparent 60%, rgba(2, 132, 199, 0.15) 60%);
  }

  .dark .prose-article strong {
    background: linear-gradient(transparent 60%, rgba(192, 38, 211, 0.2) 60%);
  }

  .prose-article a {
    @apply text-primary-600 dark:text-primary-400 font-medium no-underline relative transition-colors;
    background-image: linear-gradient(theme('colors.primary.500'), theme('colors.primary.500'));
    background-size: 0% 2px;
    background-position: 0 100%;
    background-repeat: no-repeat;
    transition:
      background-size 0.3s ease,
      color 0.2s ease;
  }

  .prose-article a:hover {
    @apply text-primary-700 dark:text-primary-300;
    background-size: 100% 2px;
  }

  /* ===== ENHANCED LISTS ===== */
  .prose-article ul,
  .prose-article ol {
    @apply my-6 space-y-2 ps-0;
  }

  .prose-article li {
    @apply text-base md:text-lg text-surface-700 dark:text-surface-300 leading-relaxed relative ps-7 mb-1;
    list-style: none;
  }

  /* Custom bullet points - solid gradient dot */
  .prose-article ul > li::before {
    content: '';
    @apply absolute start-0 top-[0.55em] w-2.5 h-2.5 rounded-full;
    background: linear-gradient(135deg, theme('colors.primary.500'), theme('colors.accent.500'));
    box-shadow: 0 1px 3px rgba(2, 132, 199, 0.3);
  }

  .prose-article ul > li::after {
    content: none;
    display: none;
  }

  /* Custom numbered list styling */
  .prose-article ol {
    counter-reset: list-counter;
  }

  .prose-article ol > li {
    counter-increment: list-counter;
    @apply ps-10;
  }

  .prose-article ol > li::before {
    content: counter(list-counter);
    @apply absolute start-0 top-0 w-7 h-7 rounded-lg text-sm font-bold flex items-center justify-center;
    background: linear-gradient(135deg, theme('colors.primary.500'), theme('colors.primary.600'));
    color: white;
    box-shadow: 0 2px 6px rgba(2, 132, 199, 0.25);
  }

  /* Nested list styling */
  .prose-article ul ul,
  .prose-article ol ol,
  .prose-article ul ol,
  .prose-article ol ul {
    @apply mt-2 mb-0 ms-2;
  }

  .prose-article ul ul > li::before,
  .prose-article ol ul > li::before {
    @apply w-1.5 h-1.5 top-[0.7em] start-0;
    background: theme('colors.primary.400');
    box-shadow: none;
  }

  .prose-article ul ul > li::after,
  .prose-article ol ul > li::after {
    content: none;
    display: none;
  }

  .prose-article ul ul > li,
  .prose-article ol ul > li {
    @apply ps-5 text-base;
  }

  /* Nested numbered lists */
  .prose-article ol ol > li::before,
  .prose-article ul ol > li::before {
    @apply w-5 h-5 text-xs rounded-md;
    background: theme('colors.primary.100');
    color: theme('colors.primary.700');
    box-shadow: none;
  }

  .dark .prose-article ol ol > li::before,
  .dark .prose-article ul ol > li::before {
    background: theme('colors.primary.900/30');
    color: theme('colors.primary.300');
  }

  .prose-article ol ol > li,
  .prose-article ul ol > li {
    @apply ps-8 text-base;
  }

  /* ===== SPECIAL LIST STYLES ===== */

  /* Lists that follow paragraphs (including checklist sections) */
  .prose-article p + ul,
  .prose-article p + ol {
    @apply mt-2;
  }

  /* Lists that follow bold paragraphs (checklist section headers) */
  .prose-article p:has(strong) + ul {
    @apply mt-3 mb-6;
  }

  /* ===== GFM TASK LIST STYLING ===== */
  .prose-article .contains-task-list,
  .prose-article ul:has(> .task-list-item) {
    @apply list-none ps-0 my-6 space-y-2;
  }

  .prose-article .task-list-item {
    @apply ps-0 py-2.5 flex items-start gap-6 relative;
  }

  /* Remove default bullet styling from task list items */
  .prose-article .task-list-item::before,
  .prose-article .task-list-item::after {
    content: none !important;
    display: none !important;
  }

  /* Checkbox styling */
  .prose-article .task-list-item input[type='checkbox'],
  .prose-article .task-list-item input.interactive-checkbox {
    @apply w-5 h-5 flex-shrink-0 cursor-pointer relative mt-0.5 align-top;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    border: 2px solid theme('colors.slate.300');
    border-radius: 4px;
    background: white;
    transition: all 0.2s ease;
    pointer-events: auto;
    z-index: 1;
  }

  .prose-article .task-list-item input.interactive-checkbox:hover {
    border-color: theme('colors.primary.400');
    transform: scale(1.05);
  }

  .prose-article .task-list-item input.interactive-checkbox:focus {
    outline: 2px solid theme('colors.primary.500');
    outline-offset: 2px;
  }

  .dark .prose-article .task-list-item input[type='checkbox'] {
    border-color: theme('colors.surface.500');
    background: theme('colors.surface.800');
  }

  /* Unchecked checkbox - empty square */
  .prose-article .task-incomplete input[type='checkbox'] {
    background: white;
    border-color: theme('colors.slate.300');
  }

  .dark .prose-article .task-incomplete input[type='checkbox'] {
    background: theme('colors.surface.800');
    border-color: theme('colors.surface.500');
  }

  /* Checked checkbox - filled with checkmark */
  .prose-article .task-list-item input[type='checkbox']:checked,
  .prose-article .task-list-item input.interactive-checkbox:checked,
  .prose-article .task-complete input[type='checkbox'],
  .prose-article .task-complete input.interactive-checkbox {
    background: linear-gradient(
      135deg,
      theme('colors.emerald.500'),
      theme('colors.emerald.600')
    ) !important;
    border-color: theme('colors.emerald.500') !important;
  }

  .prose-article .task-list-item input[type='checkbox']:checked::before,
  .prose-article .task-list-item input.interactive-checkbox:checked::before,
  .prose-article .task-complete input[type='checkbox']::before,
  .prose-article .task-complete input.interactive-checkbox::before {
    content: 'âœ“' !important;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 12px;
    font-weight: bold;
    line-height: 1;
  }

  /* Task text styling */
  .prose-article .task-list-item .task-text {
    @apply flex-1 text-base md:text-lg leading-relaxed pt-0.5;
  }

  .prose-article .task-complete .task-text {
    @apply text-surface-500 dark:text-surface-500;
  }

  .prose-article .task-incomplete .task-text {
    @apply text-surface-700 dark:text-surface-300;
  }

  /* ===== GFM STRIKETHROUGH ===== */
  .prose-article del,
  .prose-article s,
  .prose-article .strikethrough {
    @apply text-surface-400 dark:text-surface-500 line-through decoration-2;
  }

  /* ===== GFM AUTOLINKS ===== */
  .prose-article a[href^='http']:not([href*='cartshift']) {
    @apply after:content-['â†—'] after:text-xs after:ms-0.5 after:opacity-50;
  }

  .prose-article a[href^='mailto:'] {
    @apply text-primary-600 dark:text-primary-400;
  }

  /* ===== GFM FOOTNOTES ===== */
  .prose-article sup[id^='user-content-fnref'] a,
  .prose-article sup[data-footnote-ref] a {
    @apply text-primary-500 dark:text-primary-400 text-xs font-medium no-underline hover:text-primary-600 dark:hover:text-primary-300;
    padding: 0 2px;
    vertical-align: baseline;
    transition: color 0.2s ease;
  }

  .prose-article section[data-footnotes] {
    @apply mt-12 pt-6 border-t border-surface-200/60 dark:border-surface-700/60;
  }

  .prose-article section[data-footnotes] h2 {
    @apply text-xs font-semibold text-surface-500 dark:text-surface-500 uppercase tracking-wider mb-4;
    letter-spacing: 0.05em;
  }

  .prose-article section[data-footnotes] ol {
    @apply space-y-3 ps-4;
  }

  .prose-article section[data-footnotes] li {
    @apply text-xs text-surface-500 dark:text-surface-500 leading-relaxed;
    font-size: 0.75rem;
    line-height: 1.6;
  }

  .prose-article section[data-footnotes] li p {
    @apply mb-1.5;
    font-size: 0.75rem;
  }

  .prose-article section[data-footnotes] a[data-footnote-backref] {
    @apply text-primary-500 dark:text-primary-400 text-xs font-medium ml-1.5 no-underline hover:text-primary-600 dark:hover:text-primary-300;
    opacity: 0.7;
    transition:
      opacity 0.2s ease,
      color 0.2s ease;
  }

  .prose-article section[data-footnotes] a[data-footnote-backref]:hover {
    opacity: 1;
  }

  /* Feature lists with bold labels */
  .prose-article ul li:has(> strong:first-child) {
    @apply text-surface-900 dark:text-white;
  }

  .prose-article ul li > strong:first-child {
    @apply text-primary-700 dark:text-primary-300;
  }

  /* Lists inside blockquotes */
  .prose-article blockquote ul,
  .prose-article blockquote ol {
    @apply my-4;
  }

  .prose-article blockquote li {
    @apply text-base text-surface-700 dark:text-surface-300;
  }

  /* ===== DEFINITION-STYLE LISTS (Bold label: description) ===== */
  .prose-article ul li > strong:first-child,
  .prose-article ol li > strong:first-child {
    @apply block mb-1 text-surface-900 dark:text-white;
  }

  /* ===== BLOCKQUOTES (PULL QUOTES) ===== */
  .prose-article blockquote {
    @apply relative border-0 ps-0 py-6 px-8 my-10 rounded-2xl;
    background: linear-gradient(135deg, rgba(2, 132, 199, 0.05) 0%, rgba(192, 38, 211, 0.05) 100%);
  }

  .dark .prose-article blockquote {
    background: linear-gradient(135deg, rgba(2, 132, 199, 0.1) 0%, rgba(192, 38, 211, 0.1) 100%);
  }

  .prose-article blockquote::before {
    content: '"';
    @apply absolute -top-2 start-4 text-7xl font-display text-primary-300 dark:text-primary-700 leading-none opacity-50;
  }

  .prose-article blockquote p {
    @apply text-lg md:text-xl italic text-surface-800 dark:text-surface-200 mb-0 relative z-10;
  }

  /* ===== CODE BLOCKS ===== */
  .prose-article code {
    @apply text-sm font-mono bg-surface-100 dark:bg-surface-800 px-2 py-1 rounded-md text-primary-600 dark:text-primary-400 border border-surface-200 dark:border-surface-700;
  }

  .prose-article pre {
    @apply relative bg-surface-900 dark:bg-surface-950 rounded-2xl p-6 my-10 overflow-x-auto border border-surface-800 dark:border-surface-700;
  }

  /* Code block header decoration */
  .prose-article pre::before {
    content: '';
    @apply absolute top-0 inset-x-0 h-8 rounded-t-2xl flex items-center gap-2 px-4;
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.05) 0%, transparent 100%);
  }

  .prose-article pre code {
    @apply bg-transparent p-0 text-surface-100 dark:text-surface-200 border-0;
  }

  /* ===== IMAGES WITH CAPTIONS ===== */
  .prose-article img {
    @apply rounded-2xl my-10 shadow-xl border border-surface-200 dark:border-surface-700 w-full;
    transition:
      transform 0.3s ease,
      box-shadow 0.3s ease;
  }

  .prose-article img:hover {
    transform: scale(1.01);
    @apply shadow-2xl;
  }

  /* Figure with caption styling */
  .prose-article figure {
    @apply my-10;
  }

  .prose-article figure img {
    @apply my-0 mb-4;
  }

  .prose-article figcaption {
    @apply text-sm text-center text-surface-500 dark:text-surface-400 italic;
  }

  /* ===== HORIZONTAL RULES (SECTION DIVIDERS) ===== */
  .prose-article hr {
    @apply my-16 border-0 h-px relative overflow-visible;
    background: linear-gradient(90deg, transparent, theme('colors.slate.300'), transparent);
  }

  .dark .prose-article hr {
    background: linear-gradient(90deg, transparent, theme('colors.surface.700'), transparent);
  }

  .prose-article hr::before {
    content: 'â—†';
    @apply absolute left-1/2 -translate-x-1/2 -translate-y-1/2 bg-surface-50 dark:bg-surface-900 px-4 text-surface-400 dark:text-surface-600 text-sm;
  }

  /* ===== ENHANCED TABLES ===== */
  .prose-article table {
    @apply w-full my-10 border-collapse rounded-xl overflow-hidden shadow-md;
  }

  .prose-article thead {
    @apply bg-gradient-to-r from-primary-600 to-primary-500 dark:from-primary-700 dark:to-primary-600;
  }

  .prose-article th {
    @apply px-5 py-4 text-start font-semibold text-white border-0;
  }

  .prose-article tbody tr {
    @apply border-b border-surface-100 dark:border-surface-800 transition-colors;
  }

  .prose-article tbody tr:nth-child(even) {
    @apply bg-surface-50 dark:bg-surface-800/30;
  }

  .prose-article tbody tr:hover {
    @apply bg-primary-50 dark:bg-primary-900/10;
  }

  .prose-article td {
    @apply px-5 py-4 border-0 text-surface-700 dark:text-surface-300;
  }

  /* ===== CALLOUT BOXES ===== */
  /* Tip box - green accent */
  .prose-article .tip-box {
    @apply relative bg-emerald-50 dark:bg-emerald-900/20 border-s-4 border-emerald-500 rounded-e-xl p-5 my-8;
  }

  /* Info box - blue accent */
  .prose-article .info-box {
    @apply relative bg-primary-50 dark:bg-primary-900/20 border-s-4 border-primary-500 rounded-e-xl p-5 my-8;
  }

  /* Warning box - amber accent */
  .prose-article .warning-box {
    @apply relative bg-amber-50 dark:bg-amber-900/20 border-s-4 border-amber-500 rounded-e-xl p-5 my-8;
  }

  /* Important box - purple accent */
  .prose-article .important-box {
    @apply relative bg-accent-50 dark:bg-accent-900/20 border-s-4 border-accent-500 rounded-e-xl p-5 my-8;
  }

  /* ===== STATS/METRICS HIGHLIGHT BOX ===== */
  .prose-article .stats-box {
    @apply bg-gradient-to-r from-primary-50 to-accent-50 dark:from-primary-900/20 dark:to-accent-900/20 rounded-xl p-6 my-8 border border-primary-200/50 dark:border-primary-700/30;
  }

  /* ===== KEY TAKEAWAY BOX ===== */
  .prose-article .key-takeaway {
    @apply relative bg-gradient-to-br from-surface-50 to-surface-100 dark:from-surface-800 dark:to-surface-900 rounded-2xl p-8 my-12 border border-surface-200 dark:border-surface-700 shadow-lg;
  }

  .prose-article .key-takeaway::before {
    content: 'ðŸ’¡';
    @apply absolute -top-4 start-6 text-2xl bg-white dark:bg-surface-800 px-2 rounded;
  }

  /* ===== CHECKLIST STYLING ===== */
  .prose-article .checklist {
    @apply bg-emerald-50 dark:bg-emerald-900/10 rounded-xl p-6 border border-emerald-200 dark:border-emerald-800/30;
  }

  /* ===== READING PROGRESS BAR ===== */
  .reading-progress {
    @apply fixed top-0 start-0 h-1 z-[9999] transition-all duration-150;
    background: linear-gradient(90deg, theme('colors.primary.500'), theme('colors.accent.500'));
  }

  [dir='rtl'] .reading-progress {
    background: linear-gradient(-90deg, theme('colors.primary.500'), theme('colors.accent.500'));
  }

  /* ===== SUMMARY BOX AT END OF ARTICLE ===== */
  .prose-article .summary-box {
    @apply relative bg-gradient-to-br from-primary-50 via-white to-accent-50 dark:from-primary-900/20 dark:via-surface-800 dark:to-accent-900/20 rounded-2xl p-8 my-12 border border-primary-200/50 dark:border-surface-700 shadow-lg;
  }

  .prose-article .summary-box h4 {
    @apply flex items-center gap-2 text-primary-700 dark:text-primary-300;
  }

  .prose-article .summary-box h4::before {
    content: 'ðŸ“‹';
  }

  /* ========================================
     PORTAL DESIGN SYSTEM
     Complete portal interface styles
     ======================================== */

  /* Portal CSS Variables */
  :root {
    --portal-bg-primary: #f8fafc;
    --portal-bg-secondary: #ffffff;
    --portal-border: rgba(148, 163, 184, 0.2);
    --portal-text-primary: #0f172a;
    --portal-text-secondary: #64748b;
    --portal-sidebar-width: 280px;
    --portal-topbar-height: 64px;
  }

  .dark {
    --portal-bg-primary: #0f172a;
    --portal-bg-secondary: #1e293b;
    --portal-border: rgba(255, 255, 255, 0.1);
    --portal-text-primary: #f8fafc;
    --portal-text-secondary: #94a3b8;
  }

  /* Portal Shell Layout */
  .portal-shell {
    @apply min-h-screen flex bg-[var(--portal-bg-primary)];
  }

  .portal-sidebar {
    @apply w-[280px] h-screen bg-[var(--portal-bg-secondary)] border-e rtl:border-e-0 rtl:border-s border-[var(--portal-border)] flex flex-col z-50 transition-transform duration-300 ease-in-out;
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.03);
  }

  .dark .portal-sidebar {
    box-shadow: none;
    background: linear-gradient(180deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
  }

  .portal-main {
    @apply flex-1 flex flex-col overflow-hidden;
  }

  .portal-topbar {
   @apply h-16 bg-[var(--portal-bg-secondary)] border-b border-[var(--portal-border)] px-4 md:px-6 flex items-center justify-between gap-4 sticky top-0 z-40;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .portal-content {
    @apply flex-1 overflow-y-auto p-4 md:p-6 lg:p-8;
  }

  /* Portal Navigation */
  .portal-nav-section {
    @apply px-3 py-2;
  }

  .portal-nav-section-title {
    @apply px-3 py-2 text-xs font-semibold text-surface-500 dark:text-surface-400 uppercase tracking-wider;
  }

  .portal-nav-item {
    @apply flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-surface-600 dark:text-surface-300 transition-all duration-200 cursor-pointer;
  }

  .portal-nav-item:hover {
    @apply bg-surface-100 dark:bg-white/5 text-surface-900 dark:text-white;
  }

  .portal-nav-item.active {
    @apply bg-primary-50 dark:bg-primary-500/10 text-primary-600 dark:text-primary-400;
    box-shadow: 0 0 0 1px rgba(2, 132, 199, 0.1);
  }

  .dark .portal-nav-item.active {
    box-shadow: 0 0 0 1px rgba(2, 132, 199, 0.2);
  }

  .portal-nav-icon {
    @apply w-5 h-5 flex-shrink-0;
  }

  .portal-nav-badge {
    @apply bg-red-500 text-white text-xs rounded-full px-2 py-0.5 font-semibold min-w-[20px] text-center;
  }

  /* Portal Typography */
  .portal-heading-xl {
    @apply text-3xl md:text-4xl font-bold text-surface-900 dark:text-white tracking-tight;
  }

  .portal-heading-lg {
    @apply text-2xl md:text-3xl font-bold text-surface-900 dark:text-white tracking-tight;
  }

  .portal-heading-md {
    @apply text-xl md:text-2xl font-bold text-surface-900 dark:text-white;
  }

  .portal-heading-sm {
    @apply text-lg md:text-xl font-semibold text-surface-900 dark:text-white;
  }

  .portal-body {
    @apply text-base text-surface-700 dark:text-surface-300;
  }

  .portal-body-sm {
    @apply text-sm text-surface-600 dark:text-surface-400;
  }

  .portal-body-xs {
    @apply text-xs text-surface-500 dark:text-surface-500;
  }

  /* Portal Input Styles */
  .portal-input {
    @apply w-full px-4 py-2.5 rounded-xl border border-surface-200 dark:border-white/10 bg-white dark:bg-white/5 text-surface-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500;
  }

  .portal-input:disabled {
    @apply bg-surface-50 dark:bg-white/5 cursor-not-allowed opacity-60;
  }

  .portal-input-with-icon {
    @apply ps-10;
  }

  .portal-input-error {
    @apply border-red-300 dark:border-red-500/50 focus:ring-red-500/20 focus:border-red-500;
  }

  /* Portal Buttons */
  .portal-btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-semibold transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500;
  }

  .portal-btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 active:scale-95;
    box-shadow:
      0 4px 12px rgba(2, 132, 199, 0.2),
      0 0 0 1px rgba(2, 132, 199, 0.1);
  }

  .portal-btn-primary:hover {
    box-shadow:
      0 6px 20px rgba(2, 132, 199, 0.3),
      0 0 0 1px rgba(2, 132, 199, 0.2);
  }

  .portal-btn-secondary {
    @apply bg-surface-100 dark:bg-white/10 text-surface-700 dark:text-white hover:bg-surface-200 dark:hover:bg-white/15 active:scale-95;
  }

  .portal-btn-ghost {
    @apply bg-transparent text-surface-600 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-white/5 active:scale-95;
  }

  .portal-btn-danger {
    @apply bg-red-600 text-white hover:bg-red-700 active:scale-95;
  }

  .portal-btn-sm {
    @apply px-3 py-1.5 text-sm;
  }

  .portal-btn-lg {
    @apply px-6 py-3.5 text-base;
  }

  .portal-btn-icon {
    @apply p-2.5;
  }

  .portal-btn:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Portal Scrollbar */
  .portal-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .portal-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .portal-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-surface-300 dark:bg-surface-600 rounded-full;
  }

  .portal-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-surface-400 dark:bg-surface-500;
  }

  /* Portal Card */
  .portal-card {
    @apply bg-white dark:bg-surface-800/50 rounded-2xl border border-surface-200 dark:border-white/10 transition-all duration-200;
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.05),
      0 0 0 1px rgba(0, 0, 0, 0.02);
  }

  .dark .portal-card {
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(255, 255, 255, 0.05);
  }

  .portal-card:hover {
    @apply border-surface-300 dark:border-white/20;
    box-shadow:
      0 8px 16px rgba(0, 0, 0, 0.08),
      0 0 0 1px rgba(0, 0, 0, 0.03);
  }

  .dark .portal-card:hover {
    box-shadow:
      0 8px 16px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  .portal-card-body {
    @apply p-6;
  }

  .portal-card-header {
    @apply px-6 pt-6 pb-4 border-b border-surface-200 dark:border-white/10;
  }

  .portal-card-footer {
    @apply px-6 pt-4 pb-6 border-t border-surface-200 dark:border-white/10;
  }

  /* Portal Badge */
  .portal-badge {
    @apply inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-semibold;
  }

  .portal-badge-primary {
    @apply bg-primary-100 dark:bg-primary-500/20 text-primary-700 dark:text-primary-300;
  }

  .portal-badge-success {
    @apply bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300;
  }

  .portal-badge-warning {
    @apply bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-300;
  }

  .portal-badge-danger {
    @apply bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300;
  }

  .portal-badge-info {
    @apply bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300;
  }

  /* Portal Avatar */
  .portal-avatar {
    @apply flex items-center justify-center rounded-full font-semibold uppercase bg-gradient-to-br from-primary-500 to-accent-500 text-white;
  }

  .portal-avatar-sm {
    @apply w-8 h-8 text-xs;
  }

  .portal-avatar-md {
    @apply w-10 h-10 text-sm;
  }

  .portal-avatar-lg {
    @apply w-12 h-12 text-base;
  }

  /* Portal Empty State */
  .portal-empty {
    @apply flex flex-col items-center justify-center py-12 px-4 text-center;
  }

  .portal-empty-icon {
    @apply w-16 h-16 text-surface-300 dark:text-surface-600 mb-4;
  }

  .portal-empty-title {
    @apply text-lg font-semibold text-surface-900 dark:text-white mb-2;
  }

  .portal-empty-text {
    @apply text-sm text-surface-500 dark:text-surface-400 max-w-md;
  }

  /* Portal Skeleton Loaders */
  .portal-skeleton {
    @apply animate-pulse bg-surface-200 dark:bg-surface-700 rounded-lg;
  }

  .portal-skeleton-text {
    @apply h-4 my-2;
  }

  .portal-skeleton-title {
    @apply h-6 my-3;
  }

  .portal-skeleton-avatar {
    @apply w-10 h-10 rounded-full;
  }

  @keyframes portal-skeleton-pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  /* Portal Transitions */
  .portal-fade-enter {
    opacity: 0;
  }

  .portal-fade-enter-active {
    opacity: 1;
    transition: opacity 200ms;
  }

  .portal-fade-exit {
    opacity: 1;
  }

  .portal-fade-exit-active {
    opacity: 0;
    transition: opacity 200ms;
  }

  /* Portal Mobile Menu */
  @media (max-width: 1023px) {
    .portal-sidebar {
      @apply fixed inset-y-0 start-0;
    }
  }

  /* ========================================
     PREMIUM DESIGN EFFECTS
     ======================================== */

  /* Shine Sweep Effect - diagonal light sweep on hover */
  .shine-sweep {
    position: relative;
    overflow: hidden;
  }

  .shine-sweep::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(
      120deg,
      transparent 0%,
      rgba(255, 255, 255, 0) 30%,
      rgba(255, 255, 255, 0.4) 50%,
      rgba(255, 255, 255, 0) 70%,
      transparent 100%
    );
    transform: skewX(-25deg);
    transition: left 0.75s ease;
    pointer-events: none;
    z-index: 20;
  }

  .shine-sweep:hover::before {
    left: 150%;
  }

  /* RTL support for shine sweep */
  [dir='rtl'] .shine-sweep::before {
    left: auto;
    right: -100%;
    transform: skewX(25deg);
  }

  [dir='rtl'] .shine-sweep:hover::before {
    left: auto;
    right: 150%;
  }

  /* 3D Tilt Effect - perspective transform on hover */
  .tilt-3d {
    perspective: 1000px;
    transform-style: preserve-3d;
  }

  .tilt-3d-inner {
    transition: transform 0.2s ease-out;
    transform-style: preserve-3d;
  }

  /* Animated Gradient Border */
  .gradient-border {
    position: relative;
    background: inherit;
    border-radius: inherit;
    z-index: 0;
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: linear-gradient(135deg, #0284c7, #c026d3, #0284c7, #c026d3);
    background-size: 300% 300%;
    animation: gradient-border-rotate 4s ease infinite;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .gradient-border:hover::before {
    opacity: 1;
  }

  .gradient-border::after {
    content: '';
    position: absolute;
    inset: 1px;
    border-radius: inherit;
    background: inherit;
    z-index: -1;
  }

  .dark .gradient-border::after {
    background: rgba(15, 23, 42, 0.95);
  }

  @keyframes gradient-border-rotate {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* Glow Pulse - subtle pulsing glow effect */
  .glow-pulse {
    animation: glow-pulse 3s ease-in-out infinite;
  }

  @keyframes glow-pulse {
    0%,
    100% {
      box-shadow: 0 0 20px rgba(192, 38, 211, 0.2);
    }
    50% {
      box-shadow: 0 0 40px rgba(192, 38, 211, 0.4);
    }
  }

  /* Float Animation - gentle floating effect */
  .float-gentle {
    animation: float-gentle 6s ease-in-out infinite;
  }

  @keyframes float-gentle {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  /* Stagger reveal for text - use with JS */
  .stagger-reveal > * {
    opacity: 0;
    transform: translateY(20px);
    animation: stagger-in 0.6s ease-out forwards;
  }

  @keyframes stagger-in {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Interactive Icon Hover */
  .icon-interactive {
    transition:
      transform 0.3s ease,
      color 0.3s ease;
  }

  .icon-interactive:hover {
    transform: scale(1.1) rotate(-5deg);
  }

  /* Card Lift Effect - enhanced lift on hover */
  .card-lift {
    transition:
      transform 0.3s ease,
      box-shadow 0.3s ease;
  }

  .card-lift:hover {
    transform: translateY(-8px);
    box-shadow:
      0 20px 40px -15px rgba(30, 41, 59, 0.2),
      0 8px 20px -8px rgba(2, 132, 199, 0.1),
      0 0 0 1px rgba(2, 132, 199, 0.15);
  }

  .dark .card-lift:hover {
    box-shadow:
      0 20px 40px -15px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.1),
      0 0 60px -10px rgba(192, 38, 211, 0.15);
  }

  /* Underline Grow Effect for links */
  .underline-grow {
    position: relative;
    text-decoration: none;
  }

  .underline-grow::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, #0284c7, #c026d3);
    transition: width 0.3s ease;
  }

  .underline-grow:hover::after {
    width: 100%;
  }

  [dir='rtl'] .underline-grow::after {
    left: auto;
    right: 0;
  }

  /* ========================================
     APPLE LIQUID GLASS EFFECTS
     ======================================== */

  /* Base liquid glass effect - enhanced blur */
  .liquid-glass {
    position: relative;
    backdrop-filter: blur(80px) saturate(200%);
    -webkit-backdrop-filter: blur(80px) saturate(200%);
    background: rgba(255, 255, 255, 0.4);
    border: 1px solid rgba(148, 163, 184, 0.35);
    box-shadow:
      0 10px 40px -10px rgba(30, 41, 59, 0.15),
      0 4px 16px -4px rgba(30, 41, 59, 0.08),
      0 0 0 1px rgba(255, 255, 255, 0.7) inset,
      0 1px 0 rgba(255, 255, 255, 0.9) inset;
  }

  .dark .liquid-glass {
    background: rgba(15, 23, 42, 0.25);
    border-color: rgba(255, 255, 255, 0.15);
    box-shadow:
      0 10px 40px -10px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.12) inset,
      0 1px 0 rgba(255, 255, 255, 0.15) inset;
  }

  .liquid-glass:hover {
    background: rgba(255, 255, 255, 0.95);
    border-color: rgba(2, 132, 199, 0.25);
    box-shadow:
      0 20px 60px -15px rgba(30, 41, 59, 0.2),
      0 8px 24px -8px rgba(2, 132, 199, 0.1),
      0 0 0 1px rgba(255, 255, 255, 0.8) inset,
      0 1px 0 rgba(255, 255, 255, 1) inset;
  }

  .dark .liquid-glass:hover {
    background: rgba(15, 23, 42, 0.6);
    box-shadow:
      0 20px 60px -15px rgba(0, 0, 0, 0.6),
      0 0 0 1px rgba(255, 255, 255, 0.18) inset,
      0 1px 0 rgba(255, 255, 255, 0.2) inset;
  }

  /* Liquid glass with animated gradient border */
  .liquid-glass-animated-border {
    position: relative;
    isolation: isolate;
  }

  .liquid-glass-animated-border::before {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(
      var(--liquid-glass-angle, 0deg),
      rgba(99, 102, 241, 0.5),
      rgba(192, 38, 211, 0.5),
      rgba(99, 102, 241, 0.3),
      rgba(192, 38, 211, 0.5)
    );
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    animation: liquid-glass-border-rotate 4s linear infinite;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
  }

  .liquid-glass-animated-border:hover::before {
    opacity: 1;
  }

  @keyframes liquid-glass-border-rotate {
    0% {
      --liquid-glass-angle: 0deg;
    }
    100% {
      --liquid-glass-angle: 360deg;
    }
  }

  @property --liquid-glass-angle {
    syntax: '<angle>';
    initial-value: 0deg;
    inherits: false;
  }

  /* Liquid glass highlight - subtle refraction effect on top edge */
  .liquid-glass-highlight {
    position: relative;
  }

  .liquid-glass-highlight::after {
    content: '';
    position: absolute;
    inset-inline: 10%;
    top: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.5) 20%,
      rgba(255, 255, 255, 0.8) 50%,
      rgba(255, 255, 255, 0.5) 80%,
      transparent 100%
    );
    pointer-events: none;
  }

  /* Liquid glass with glow */
  .liquid-glass-glow {
    position: relative;
  }

  .liquid-glass-glow::before {
    content: '';
    position: absolute;
    inset: -20px;
    background: radial-gradient(ellipse at 50% 0%, rgba(99, 102, 241, 0.15) 0%, transparent 50%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.4s ease;
    z-index: -1;
  }

  .liquid-glass-glow:hover::before {
    opacity: 1;
  }

  /* Intense liquid glass variant - extra strong blur */
  .liquid-glass-intense {
    backdrop-filter: blur(24px) saturate(220%);
    -webkit-backdrop-filter: blur(24px) saturate(220%);
    background: rgba(255, 255, 255, 0.92);
    border: 1px solid rgba(148, 163, 184, 0.4);
    box-shadow:
      0 10px 50px -10px rgba(30, 41, 59, 0.18),
      0 6px 20px -6px rgba(30, 41, 59, 0.1),
      0 0 0 1px rgba(255, 255, 255, 0.8) inset,
      0 2px 0 rgba(255, 255, 255, 0.95) inset;
  }

  .dark .liquid-glass-intense {
    background: rgba(15, 23, 42, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow:
      0 10px 50px -10px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.15) inset,
      0 2px 0 rgba(255, 255, 255, 0.2) inset;
  }

  /* Subtle liquid glass variant - lighter effect */
  .liquid-glass-subtle {
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    background: rgba(255, 255, 255, 0.75);
    border: 1px solid rgba(148, 163, 184, 0.25);
    box-shadow: 0 4px 16px -4px rgba(30, 41, 59, 0.08);
  }

  .dark .liquid-glass-subtle {
    background: rgba(15, 23, 42, 0.35);
    border-color: rgba(255, 255, 255, 0.08);
    box-shadow: none;
  }

  /* Liquid glass card with refraction illusion */
  .liquid-glass-refract {
    position: relative;
    overflow: hidden;
  }

  .liquid-glass-refract::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(
      from 0deg at 50% 50%,
      transparent 0deg,
      rgba(255, 255, 255, 0.05) 60deg,
      transparent 120deg,
      rgba(255, 255, 255, 0.05) 180deg,
      transparent 240deg,
      rgba(255, 255, 255, 0.05) 300deg,
      transparent 360deg
    );
    animation: liquid-glass-shimmer 8s linear infinite;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  .liquid-glass-refract:hover::before {
    opacity: 1;
  }

  @keyframes liquid-glass-shimmer {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* Interactive liquid glass ripple effect */
  .liquid-glass-ripple {
    position: relative;
    overflow: hidden;
  }

  .liquid-glass-ripple::after {
    content: '';
    position: absolute;
    width: 200px;
    height: 200px;
    background: radial-gradient(
      circle,
      rgba(255, 255, 255, 0.3) 0%,
      rgba(255, 255, 255, 0.1) 40%,
      transparent 70%
    );
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    pointer-events: none;
    opacity: 0;
    transition:
      transform 0.6s ease,
      opacity 0.4s ease;
  }

  .liquid-glass-ripple:active::after {
    transform: translate(-50%, -50%) scale(2);
    opacity: 1;
    transition:
      transform 0s,
      opacity 0s;
  }
}

/* Reduced Motion Support - Accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .animate-slow-spin,
  .animate-gradient-x,
  .float-gentle,
  .glow-pulse,
  .animate-fade-in,
  .animate-fade-in-up,
  .animate-slide-in-right {
    animation: none !important;
  }

  .gradient-text {
    animation: none !important;
    background-size: 100% auto !important;
  }
}
